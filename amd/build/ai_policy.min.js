define("block_design_ideas/ai_policy",["exports","core/modal_save_cancel","core/modal_events","core/str","core/ajax"],(function(_exports,_modal_save_cancel,_modal_events,_str,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modal_save_cancel=_interopRequireDefault(_modal_save_cancel),_modal_events=_interopRequireDefault(_modal_events),_ajax=_interopRequireDefault(_ajax);_exports.init=async()=>{const policyStatus=document.getElementById("ai-policy-status");if(console.log("policyStatus",policyStatus.value),"0"===policyStatus.value){(await _modal_save_cancel.default.create({title:(0,_str.get_string)("aipolicyacceptance","ai"),body:(0,_str.get_string)("userpolicy","ai"),large:!0,buttons:{save:(0,_str.get_string)("acceptai","ai"),cancel:(0,_str.get_string)("declineaipolicy","ai")},show:!0})).getRoot().on(_modal_events.default.save,(e=>{const contextId=document.getElementById("contextid");_ajax.default.call([{methodname:"core_ai_set_policy_status",args:{contextid:contextId.value}}])[0].done((()=>{window.location.reload()})).fail((error=>{console.error("Error setting policy status:",error)}))}))}}}));

//# sourceMappingURL=ai_policy.min.js.map